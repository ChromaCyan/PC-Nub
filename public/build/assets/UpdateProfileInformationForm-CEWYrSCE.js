import{T as B,l as _,o as h,c as P,w as n,f as i,d as x,a,b as s,m as g,D as k,H as j,g as y,e as b,u as o,i as q,n as A,O as E}from"./app-B33627SK.js";import{_ as D}from"./ActionMessage-RIutL6M0.js";import{_ as F}from"./FormSection-nWCa4Qns.js";import{a as c,_ as v}from"./TextInput-auK1ToGy.js";import{_ as p}from"./InputLabel-bRWNv2cg.js";import{_ as O}from"./PrimaryButton-VBLAiBoE.js";import{_ as S}from"./SecondaryButton-CSbocQ3v.js";import"./SectionTitle-DBgXZynS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={key:0,class:"col-span-6 sm:col-span-4"},T={class:"mt-2"},z=["src","alt"],L={class:"mt-2"},H={class:"col-span-6 sm:col-span-4"},M={class:"col-span-6 sm:col-span-4"},Y={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},J={key:0},K={class:"text-sm mt-2 dark:text-white"},Q={class:"mt-2 font-medium text-sm text-green-600 dark:text-green-400"},re={__name:"UpdateProfileInformationForm",props:{user:Object},setup(m){const f=m,e=B({_method:"PUT",name:f.user.name,email:f.user.email,address:f.user.address,phone:f.user.phone,photo:null}),w=_(null),d=_(null),u=_(null),$=()=>{u.value&&(e.photo=u.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>V()})},C=()=>{w.value=!0},U=()=>{u.value.click()},I=()=>{const l=u.value.files[0];if(!l)return;const t=new FileReader;t.onload=r=>{d.value=r.target.result},t.readAsDataURL(l)},N=()=>{E.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{d.value=null,V()}})},V=()=>{var l;(l=u.value)!=null&&l.value&&(u.value.value=null)};return(l,t)=>(h(),P(F,{onSubmitted:$},{title:n(()=>[i(" Profile Information ")]),description:n(()=>[i(" Update your account's profile information and email address. ")]),form:n(()=>[l.$page.props.jetstream.managesProfilePhotos?(h(),x("div",R,[a("input",{id:"photo",ref_key:"photoInput",ref:u,type:"file",class:"hidden",onChange:I},null,544),s(p,{for:"photo",value:"Photo"}),g(a("div",T,[a("img",{src:m.user.profile_photo_url,alt:m.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,z)],512),[[k,!d.value]]),g(a("div",L,[a("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:j("background-image: url('"+d.value+"');")},null,4)],512),[[k,d.value]]),s(S,{class:"mt-2 me-2",type:"button",onClick:y(U,["prevent"])},{default:n(()=>[i(" Select A New Photo ")]),_:1}),m.user.profile_photo_path?(h(),P(S,{key:0,type:"button",class:"mt-2",onClick:y(N,["prevent"])},{default:n(()=>[i(" Remove Photo ")]),_:1})):b("",!0),s(c,{message:o(e).errors.photo,class:"mt-2"},null,8,["message"])])):b("",!0),a("div",H,[s(p,{for:"name",value:"Name"}),s(v,{id:"name",modelValue:o(e).name,"onUpdate:modelValue":t[0]||(t[0]=r=>o(e).name=r),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),s(c,{message:o(e).errors.name,class:"mt-2"},null,8,["message"])]),a("div",M,[s(p,{for:"address",value:"Address"}),s(v,{id:"address",modelValue:o(e).address,"onUpdate:modelValue":t[1]||(t[1]=r=>o(e).address=r),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"address"},null,8,["modelValue"]),s(c,{message:o(e).errors.address,class:"mt-2"},null,8,["message"])]),a("div",Y,[s(p,{for:"phone",value:"Phone"}),s(v,{id:"phone",modelValue:o(e).phone,"onUpdate:modelValue":t[2]||(t[2]=r=>o(e).phone=r),type:"tel",class:"mt-1 block w-full",required:"",autocomplete:"phone"},null,8,["modelValue"]),s(c,{message:o(e).errors.tel,class:"mt-2"},null,8,["message"])]),a("div",G,[s(p,{for:"email",value:"Email"}),s(v,{id:"email",modelValue:o(e).email,"onUpdate:modelValue":t[3]||(t[3]=r=>o(e).email=r),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),s(c,{message:o(e).errors.email,class:"mt-2"},null,8,["message"]),l.$page.props.jetstream.hasEmailVerification&&m.user.email_verified_at===null?(h(),x("div",J,[a("p",K,[i(" Your email address is unverified. "),s(o(q),{href:l.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",onClick:y(C,["prevent"])},{default:n(()=>[i(" Click here to re-send the verification email. ")]),_:1},8,["href"])]),g(a("div",Q," A new verification link has been sent to your email address. ",512),[[k,w.value]])])):b("",!0)])]),actions:n(()=>[s(D,{on:o(e).recentlySuccessful,class:"me-3"},{default:n(()=>[i(" Saved. ")]),_:1},8,["on"]),s(O,{class:A({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:n(()=>[i(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}};export{re as default};
